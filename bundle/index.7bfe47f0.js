const p=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};p();const i={tap:new Audio("sounds/tap1.wav"),navForward:new Audio("sounds/nav1.wav"),refresh:new Audio("sounds/refresh.wav"),shutter:new Audio("sounds/shutter.wav")};i.tap.volume=.5;i.navForward.volume=.1;i.shutter.volume=.05;async function l(){await i.tap.play()}function g(){i.refresh.play()}function m(){i.shutter.play()}function d(e=!0){navigator.vibrate(10),e&&i.navForward.play()}var w=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",sounds:i,tap:l,refresh:g,shutter:m,navigate:d});const f={ripple(e){return e.getAttribute("ripple")!=null||e.getAttribute("page")!=null||e.nodeName=="BUTTON"||e.nodeName=="HEADER"||!1},dialog(e){return e.nodeName=="DIALOG"}},y=[{if:f.ripple,then(e){e.addEventListener("pointerdown",()=>h(e)),e.addEventListener("keydown",t=>{t.key=="Enter"&&h(e,10)})}},{if:f.dialog,then(e){e.setAttribute("open","")}}];function h(e,t=0){e.getAttribute("disabled")==null&&(e.removeAttribute("afterclick"),setTimeout(()=>e.setAttribute("afterclick",""),t),l())}const b=new MutationObserver(e=>{e.forEach(t=>{t.addedNodes.forEach(r=>r.nodeName!="#text"?u(r):0)})});b.observe(document.body,{childList:!0,subtree:!0});document.querySelectorAll("body *").forEach(e=>u(e));function u(e){y.forEach(t=>{t.if(e)&&t.then(e)});for(const t in e.children){const r=e.children[t];r.getAttribute&&u(r)}}L();const a={main:document.querySelector("body > main"),nav:document.querySelector("body > nav"),links:document.querySelectorAll("body > nav > [page]")};async function v(e){a.main.removeAttribute("afterload"),a.main.innerHTML=await A(`/views/${e}.html`),document.querySelectorAll("[page]").forEach(t=>t.getAttribute("page")==e?t.setAttribute("active",""):t.removeAttribute("active")),a.main.setAttribute("afterload","")}a.links.forEach(e=>e.addEventListener("click",()=>{v(e.getAttribute("page")),d()}));async function A(e){let r=await(await self.caches?.open("views"))?.match(e);return r||(a.nav.setAttribute("loading",""),r=await fetch(e),a.nav.removeAttribute("loading")),await r.text()}function L(){let e=window.fetch;window.fetch=(t,r)=>{if(t instanceof Request||!t.startsWith("/"))return e(t,r);t="."+t;const s=new URL(t,location.href).href;return console.log(s,t),e(s,r)}}location.port!="3000"&&navigator.serviceWorker?.register(new URL("/pwa-template/sw.js",self.location).href);navigator.serviceWorker.onmessage=e=>{e.data=="update"&&location.reload()};const E=async()=>{if(!navigator.onLine){console.warn("%cCannot update caches while offline!","color: orange");return}navigator.serviceWorker.controller?.postMessage("update")};window.updateCaches=E;window.sounds=w;v("home");
